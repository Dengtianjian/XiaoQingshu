<template name="common_comment">
  <view class="comment-title">评论</view>
  <view class="comment-list">
    <block wx:for="{{ comments }}" wx:key="commentArrayIndex" wx:for-index="commentArrayIndex" wx:for-item="commentArray">
      <block wx:for="{{ commentArray }}" wx:key="index">
        <CommentItem class="comment-item" comment="{{ item }}" />
        <navigator class="comment-item-view-reply" data-index="{{ index }}" data-arrayindex="{{ commentArrayIndex }}" url="/pages/post/view/comment/comment?commentid={{ item._id }}&postid={{ item._post }}">
          查看回复
        </navigator>
      </block>
    </block>
  </view>
  <view class="comment-post-button" bind:tap="showCommentInputPopup">评论</view>
  <InputPopup hidden="{{ hideCommentInputPopup }}" submitButtonText="发送" bind:submit="commentPost" value="{{ commentContent }}" />
</template>