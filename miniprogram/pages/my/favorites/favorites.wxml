<!-- miniprogram/pages/my/favorites/favorites.wxml -->
<NavigationBar pageTitle="收藏" />
<view class="favorite-list">
  <block wx:for="{{ 16 }}">
    <view class="favorite-box-item">
      <Icon class="favorite-box-item-icon" size="80rpx" icon="https://template.canva.cn/EADcB-bO1Bg/1/0/283w-v9TOen-Arck.jpg" />
      <view class="favorite-box-item-main">
        <view class="favorite-box-item-name">小猪佩奇一家</view>
        <view class="favorite-box-item-bottom">
          <text class="favorite-box-item-count">4个</text>
          <text class="favorite-box-item-created-date">2018-12-01</text>
        </view>
      </view>
      <Icon class="favorite-box-item-view-icon" icon="qcicon-arrow-right" size="26rpx" />
    </view>
  </block>
</view>

<!-- 添加收藏的按钮 -->
<view class="create-favorite qcicon qcicon-upload" bind:tap="showCreateFavoritePopup"></view>

<!-- 创建新的收藏夹弹窗 -->
<template name="create_favorite">
  <form class="create-favorite-form form-common">
    <view class="form-common-item" >
      <view class="form-common-item-title">配图</view>
      <view class="form-common-item-el" style="padding:0;border:none;">
        <view class="favorite-box-icon-upload qcicon "></view>
        <image class="favorite-box-icon-preview" src="https://template.canva.cn/EADcCZHzjf4/1/0/400w-n1oCpYmVM2c.jpg"></image>
      </view>
    </view>
    <view class="form-common-item" >
      <view class="form-common-item-title">名称</view>
      <view class="form-common-item-el" >
       <input type="text" name="name" />
      </view>
    </view>
    <view class="form-common-item" >
      <view class="form-common-item-title">描述</view>
      <view class="form-common-item-el" >
       <input type="text" name="description" />
      </view>
    </view>
    <view class="favorite-box-form-operate">
      <button class="favorite-box-form-operate-item" type="default" style="width:45%;" bindtap="hiddenCreateFavoritePopup">取消</button>
      <button class="favorite-box-form-operate-item" type="primary" style="width:45%;">保存</button>
    </view>
  </form>
</template>

<!-- 收藏夹里面的内容 弹窗 -->
<wxs module="favoritesBrowse">
  module.exports={
    favoritesNavigations:[
      {
        favoritesTitle:"Vue的计算属性真的会缓存吗？(保姆级学，原理深入揭秘)",
        favoritesAuthor:"晨曦时梦见兮",
        favoritesTime:"一个月前",
        favoritesContentsUrl:""
      }
    ]
  };
</wxs>
<template name="favorite_list"> 
  <view class="nfavorite-item" >
    <block wx:for="{{ 10 }}">
    <block wx:for="{{ favoritesBrowse.favoritesNavigations }}" >
    <navigator class="favorites-browse-item" open-type="navigate" url="{{ item.favoritesContentsUrl }}"> 
      <text class="favorites-browse-item-title">{{ item.favoritesTitle }}</text>
      <view class="author-and-time-display">
        <text class="favorites-browse-item-author">{{ item.favoritesAuthor }}</text>
        <text class="favorites-browse-item-time">{{ item.favoritesTime }}</text>
      </view>
    </navigator>
    </block>
    </block>
  </view>
</template> 

<!-- 展示某一个收藏夹里面的收藏列表 -->
<Popup hidden="{{ false }}" position="bottom" customStyle="height:90%;"> 
  <template is="favorite_list"></template>
</Popup>

<Popup hidden="{{ isHiddenCreateFavoritePopup }}" position="bottom" customStyle="height:90%;">
<template is="create_favorite"></template>
</Popup>